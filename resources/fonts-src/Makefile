input        := in
output       := out
font-names   := $(basename $(wildcard $(input)/*))



all: $(patsubst $(input)/%,$(output)/%,$(font-names))

.PHONY: all clean



# Disintegrates every folder generated by Make tasks
clean:
	@rm -rf $(output)/*


# Extract every glyph contained in a named font as an SVG file
$(output)/%:
	@test -d "$@" || mkdir -p "$@"
	@./extract-svg.py --font-file=in/"$(@F)".ttf --save-to=out/"$(@F)"
